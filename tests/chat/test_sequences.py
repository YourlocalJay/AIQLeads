[Content omitted for brevity - this is the test implementation I created earlier]